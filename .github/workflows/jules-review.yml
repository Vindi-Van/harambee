name: Jules PR Reviewer

on:
  pull_request:
    types: [opened, synchronize]

permissions:
  contents: read
  pull-requests: write
  issues: write

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Run Jules Agent (Review-Only)
        uses: google-labs-code/jules-action@main
        with:
          jules_api_key: ${{ secrets.JULES_API_KEY }}
          prompt: |
            You are a senior code reviewer operating in STRICT REVIEW-ONLY mode.
            Analyze this Pull Request for:
            1. Logic errors and potential bugs.
            2. Performance bottlenecks (especially in React Native components).
            3. Adherence to project styling.
            4. Specific focus: Ensure iPad Air layout stability and rotation-safe Flexbox styling.

            Hard constraints:
            - Do NOT write or modify code.
            - Do NOT create commits, branches, patches, or pull requests.
            - Do NOT suggest automated code edits.
            - Only provide review feedback as inline PR comments where possible.
